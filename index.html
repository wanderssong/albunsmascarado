<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <title>Galeria El_Mascarado</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <style>
        body {
            background: #111;
            color: white;
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            overflow-x: hidden;
            user-select: none;
            -webkit-user-drag: none;
            -webkit-touch-callout: none;
        }

        header {
            text-align: center;
            padding: 20px;
            background: #1a1a1a;
        }

        header img {
            width: 120px;
            margin-bottom: 10px;
        }

        h1 {
            font-weight: 700;
            font-size: 1.5em;
            color: #ff6600;
            margin: 0;
        }

        .search-bar {
            text-align: center;
            margin: 20px 0;
        }

        .search-bar input {
            padding: 10px 15px;
            font-size: 1em;
            border-radius: 30px;
            border: none;
            width: 80%;
            max-width: 400px;
            background: #1e1e1e;
            color: white;
        }

        .albums {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            padding: 20px;
        }

        .album {
            background: #1e1e1e;
            border-radius: 15px;
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
            animation: fadeIn 1s ease;
        }

        .album:hover {
            transform: scale(1.05);
            box-shadow: 0 0 20px rgba(255, 102, 0, 0.7);
        }

        .album img {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .album-title {
            padding: 15px;
            text-align: center;
            font-weight: bold;
            color: #fff;
        }

        @keyframes fadeIn {
            0% {
                opacity: 0;
                transform: scale(0.95);
            }

            100% {
                opacity: 1;
                transform: scale(1);
            }
        }

        .photo-area {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            padding: 20px;
        }

        .photo-container {
            position: relative;
            width: 300px;
            height: 200px;
            border-radius: 10px;
            overflow: hidden;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.2);
        }

        .protect-layer {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 10;
        }

        .download-button {
            margin-top: 10px;
            padding: 10px 20px;
            background: #ff6600;
            border: none;
            border-radius: 30px;
            color: white;
            font-weight: bold;
            cursor: pointer;
        }

        .watermark {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            opacity: 0.3;
            pointer-events: none;
            max-width: 50%;
        }

        input[type='text'] {
            padding: 10px;
            border-radius: 20px;
            border: none;
            font-size: 16px;
            width: 200px;
        }

        button.unlock-btn {
            margin-left: 10px;
            background: #1e1e1e;
            border: 2px solid #ff6600;
            color: #ff6600;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
        }
    </style>
</head>

<body oncontextmenu="return false;" ondragstart="return false;" onselectstart="return false;">

    <header>
        <img src="albuns/logo.png" alt="Logo">
        <h1>Bem-vindo à Galeria do El_Mascarado!</h1>
    </header>

    <!-- Página Inicial -->
    <div id="homeSection">
        <div class="search-bar">
            <input type="text" id="albumSearch" placeholder="Digite o nome do evento ou álbum..."
                oninput="filterAlbums()">
        </div>

        <div class="albums" id="albumsList">
            <div class="album" data-title="Ensaio Gigi" onclick="openAlbum('album1')">
                <img src="albuns/gigi/capa.jpg" alt="Ensaio Gigi">
                <div class="album-title">Ensaio Gigi</div>
            </div>

            <div class="album" data-title="Ensaio na Praia" onclick="openAlbum('album2')">
                <img src="albuns/praia/capa.jpg" alt="Ensaio na Praia">
                <div class="album-title">Ensaio na Praia</div>
            </div>
        </div>
    </div>

    <!-- Galeria Interna -->
    <div id="gallerySection" style="display:none;">
        <h1 id="albumTitle">Galeria</h1>
        <div>
            <input type="text" id="codeInput" placeholder="Digite o código...">
            <button class="unlock-btn" onclick="unlockPhotos()">Desbloquear</button>
        </div>
        <div id="photoArea" class="photo-area"></div>
        <button style="margin:20px;" class="unlock-btn" onclick="closeGallery()">Voltar para álbuns</button>
    </div>

    <script>
        document.addEventListener('contextmenu', e => e.preventDefault());
        document.addEventListener('touchstart', e => { if (e.touches.length > 0) e.preventDefault(); }, { passive: false });

        const albums = {
            album1: {
                title: 'Ensaio Gigi',
                code: '5050',
                photos: [
                    'albuns/gigi/ft01.jpg',
                    'albuns/gigi/ft02.jpg',
                    'albuns/gigi/ft03.jpg',
                    'albuns/gigi/ft04.jpg',
                    'albuns/gigi/ft05.jpg'
                ]
            },
            album2: {
                title: 'Ensaio na Praia',
                code: '6060',
                photos: [
                    'albuns/praia/praia1.jpg',
                    'albuns/praia/praia2.jpg',
                    'albuns/praia/praia3.jpg',
                    'albuns/praia/praia4.jpg',
                    'albuns/praia/praia5.jpg'
                ]
            }
        };

        let currentAlbum = null;
        let unlocked = false;

        function filterAlbums() {
            const query = document.getElementById('albumSearch').value.toLowerCase();
            const albumElements = document.querySelectorAll('.album');
            albumElements.forEach(album => {
                const title = album.getAttribute('data-title').toLowerCase();
                album.style.display = title.includes(query) ? 'block' : 'none';
            });
        }

        function openAlbum(albumName) {
            currentAlbum = albums[albumName];
            unlocked = false;
            document.getElementById('albumTitle').innerText = currentAlbum.title;
            document.getElementById('homeSection').style.display = 'none';
            document.getElementById('gallerySection').style.display = 'block';
            renderPhotos();
        }

        function closeGallery() {
            document.getElementById('homeSection').style.display = 'block';
            document.getElementById('gallerySection').style.display = 'none';
        }

        function renderPhotos() {
            const area = document.getElementById('photoArea');
            area.innerHTML = '';
            const photos = currentAlbum.photos;

            photos.forEach((photo, index) => {
                const container = document.createElement('div');
                container.className = 'photo-container';
                container.style.backgroundImage = `url('${photo}')`;
                container.style.backgroundSize = 'cover';
                container.style.backgroundPosition = 'center';
                container.style.backgroundRepeat = 'no-repeat';

                const protect = document.createElement('div');
                protect.className = 'protect-layer';
                container.appendChild(protect);

                if (!unlocked) {
                    const watermark = document.createElement('img');
                    watermark.className = 'watermark';
                    watermark.src = 'albuns/logo.png';  // sua logo PNG transparente
                    container.appendChild(watermark);
                } else {
                    const btn = document.createElement('button');
                    btn.className = 'download-button';
                    btn.textContent = '📥 Baixar';
                    btn.onclick = () => forceDownload(photo, `${ currentAlbum.title } - foto${ index + 1}.jpg`);
            container.appendChild(btn);
        }

        area.appendChild(container);
    });
}

        function unlockPhotos() {
            const code = document.getElementById('codeInput').value.trim();
            if (code === currentAlbum.code) {
                unlocked = true;
                alert('Fotos desbloqueadas! Agora você pode baixar.');
                renderPhotos();
            } else {
                alert('Código incorreto!');
            }
        }

        function forceDownload(url, filename) {
            fetch(url)
                .then(response => response.blob())
                .then(blob => {
                    const blobUrl = URL.createObjectURL(blob);
                    const link = document.createElement('a');
                    link.href = blobUrl;
                    link.download = filename;
                    document.body.appendChild(link);
                    link.click();
                    document.body.removeChild(link);
                    URL.revokeObjectURL(blobUrl);
                })
                .catch(() => {
                    alert('Erro ao baixar a imagem.');
                });
        }
    </script>

</body>

</html>
